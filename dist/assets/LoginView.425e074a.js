import{u as k,c as b,r as f,o as w,a as y,b as e,w as a,d as l,e as N,f as t,F as $,g as s,h as V,i as F,T as L,j as T}from"./index.7d068e47.js";import{c as E,a as p,b as A,_,F as U}from"./TextInput.0f2031da.js";const B={class:"m-dialog--footer"},D=s(" Email j\xE1 registrado. "),M={name:"CadastroUser",emits:["show-modal"],setup(q,{emit:d}){const n=E().shape({username:p().required("Nome \xE9 um campo obrigat\xF3rio"),email:p().email("Email inv\xE1lido").required("Email \xE9 um campo obrigat\xF3rio"),password:p().min(8,"A senha deve conter pelo menos 8 caracteres").required("Senha \xE9 um campo obrigat\xF3rio"),confirm_password:p().required("Confirmar a senha \xE9 um campo obrigat\xF3rio").oneOf([A("password")],"As senhas n\xE3o coincidem")}),h=k(),m=b(()=>h.getters.emailRegistered);async function u(v,{resetForm:i}){if(await h.dispatch("addUser",v),!m.value){d("show-modal");return}i(),setTimeout(()=>{h.dispatch("removeAlert")},3e3)}return(v,i)=>{const g=f("b-alert");return w(),y($,null,[e(t(U),{onSubmit:u,"validation-schema":t(n)},{default:a(()=>[e(_,{name:"username",type:"text",label:"Nome completo",placeholder:"Seu nome"}),e(_,{name:"email",type:"email",label:"E-mail",placeholder:"Seu endere\xE7o de email"}),e(_,{name:"password",type:"password",label:"Senha",placeholder:"Digite uma senha"}),e(_,{name:"confirm_password",type:"password",label:"Confirmar senha",placeholder:"Digite novamente"}),l("div",B,[N(v.$slots,"footer")])]),_:3},8,["validation-schema"]),e(g,{show:t(m),dismissible:"",variant:"danger"},{default:a(()=>[D]),_:1},8,["show"])],64)}}};const O=l("div",{class:"bg-image"},null,-1),R={id:"login-container"},j={key:0,id:"alert"},I=s(" Usu\xE1rio ou senha inv\xE1lido "),W={id:"input-container"},z={id:"buttons-container"},G=s("Entrar"),H=s("Cadastre-se"),J=l("img",{src:"https://img.icons8.com/color/16/000000/google-logo.png"},null,-1),K=s(" Entrar com o google"),P=s(" Cancelar "),Q=s("Cadastrar"),X=l("p",null,"Fun\xE7\xE3o em desenvolvimento.",-1),Y=s("Ok"),ae={name:"LoginView",setup(q){const d=k(),n=V(!1),h=E().shape({email:p().email("Email inv\xE1lido").required("Email \xE9 um campo obrigat\xF3rio"),password:p().required("Senha \xE9 um campo obrigat\xF3rio")}),m=b(()=>d.getters.isLoading),u=b(()=>d.getters.inUsers);function v(g,{resetForm:o}){!u.value&&d.dispatch("authLogin",g),o()}const i=V(!1);return F(u,()=>{u.value&&setTimeout(()=>d.dispatch("setInUsers"),1200)}),(g,o)=>{const x=f("b-alert"),c=f("b-button"),S=f("b-overlay"),C=f("m-dialog");return w(),y($,null,[O,l("div",R,[e(L,{name:"slide-fade"},{default:a(()=>[t(u)?(w(),y("div",j,[e(x,{variant:"danger",show:""},{default:a(()=>[I]),_:1})])):T("",!0)]),_:1}),e(t(U),{onSubmit:v,"validation-schema":t(h)},{default:a(()=>[l("div",W,[e(_,{name:"email",type:"email",label:"E-mail",placeholder:"Seu endere\xE7o de email"}),e(_,{name:"password",type:"password",label:"Senha",placeholder:"Digite uma senha"})]),l("div",z,[e(S,{show:t(m),rounded:"",opacity:"0.6","spinner-small":"","spinner-variant":"primary",class:"d-inline-block"},{default:a(()=>[e(c,{type:"submit",variant:"primary"},{default:a(()=>[G]),_:1})]),_:1},8,["show"]),e(c,{onClick:o[0]||(o[0]=r=>n.value=!0),variant:"link"},{default:a(()=>[H]),_:1}),e(c,{variant:"secundary",type:"button",onClick:o[1]||(o[1]=r=>i.value=!0)},{default:a(()=>[J,K]),_:1})])]),_:1},8,["validation-schema"])]),e(C,{modelValue:n.value,"onUpdate:modelValue":o[4]||(o[4]=r=>n.value=r),title:"Registre-se"},{default:a(()=>[e(M,{onShowModal:o[3]||(o[3]=()=>n.value=!1)},{footer:a(()=>[e(c,{variant:"secundary",onClick:o[2]||(o[2]=r=>n.value=!1)},{default:a(()=>[P]),_:1}),e(S,{show:t(m),rounded:"",opacity:"0.6","spinner-small":"","spinner-variant":"primary",class:"d-inline-block"},{default:a(()=>[e(c,{variant:"primary",disabled:t(m),type:"submit"},{default:a(()=>[Q]),_:1},8,["disabled"])]),_:1},8,["show"])]),_:1})]),_:1},8,["modelValue"]),e(C,{modelValue:i.value,"onUpdate:modelValue":o[6]||(o[6]=r=>i.value=r),title:"Oops..."},{footer:a(()=>[e(c,{variant:"primary",onClick:o[5]||(o[5]=r=>i.value=!1),type:"submit"},{default:a(()=>[Y]),_:1})]),default:a(()=>[X]),_:1},8,["modelValue"])],64)}}};export{ae as default};
